<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Properti AR - Rumah Digital</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Playfair+Display:wght@600;700&display=swap"
      rel="stylesheet"
    />

    <script src="https://cdn.jsdelivr.net/gh/aframevr/aframe@1c2407b26c61958baa93967b5412487cd94b290b/dist/aframe-master.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="dashboard">
      <div class="dashboard-content">
        <div class="hero">
          <div class="line-decor"></div>
          <h1>Showcase Rumah</h1>
          <p class="subtitle">Media Pemasaran Properti Digital</p>
          <p class="description">
            Jelajahi model 3D rumah secara augmented reality—fitur, layout,
            dan informasi properti untuk calon pembeli.
          </p>
        </div>

        <button class="btn-main" onclick="startAR()">LIHAT RUMAH</button>

        <div class="history-section">
          <div class="section-divider">
            <span>RINGKASAN PROPERTI</span>
          </div>

          <div class="info-card">
            <div class="card-number">01</div>
            <div class="card-text">
              <h3>Lokasi Strategis</h3>
              <p>
                Dekat akses transportasi dan area komersial—cocok untuk keluarga
                dan investasi.
              </p>
            </div>
          </div>

          <div class="info-card">
            <div class="card-number">02</div>
            <div class="card-text">
              <h3>Luas & Layout</h3>
              <p>
                120 m² (LB) / 180 m² (LT) dengan 3 kamar tidur, ruang tamu,
                dapur terbuka, dan halaman.
              </p>
            </div>
          </div>

          <div class="info-card">
            <div class="card-number">03</div>
            <div class="card-text">
              <h3>Harga</h3>
              <p>
                Mulai dari Rp 850.000.000 — kontak agen untuk informasi lebih
                lanjut dan jadwal kunjungan.
              </p>
            </div>
          </div>
        </div>

        <div class="footer-credit">Virtual Heritage Experience</div>
      </div>
    </div>

    <div id="loading">
      <div class="loader"></div>
      <h2>Memuat Aset...</h2>
    </div>

    <div class="ar-ui-layer">
      <div class="ar-header" style="display: none">
        <div class="header-text">
          <h1>Rumah Contoh</h1>
          <span class="status-indicator" id="status-text"
            >Mencari Marker...</span
          >
        </div>
        <button class="btn-back" onclick="backToDashboard()">Kembali</button>
      </div>

      <div id="info-popup" class="popup-overlay">
        <div class="popup-content">
          <button class="btn-close" onclick="closePopup()">✕</button>
          <span class="popup-label">INFORMASI PROPERTI</span>
          <h2 id="popup-title">Judul</h2>
          <div class="divider"></div>
          <p id="popup-desc">Deskripsi...</p>
          <div style="margin-top:18px; display:flex; gap:8px; justify-content:flex-end;">
            <button id="contact-btn" class="btn-main" style="padding:8px 14px; width:auto;">Hubungi Agen</button>
          </div>
        </div>
      </div>

      <div class="control-panel" style="display: none">
        <div class="control-section">
          <span class="control-label">Navigasi</span>
          <div class="d-pad">
            <button class="btn-control" id="btn-up">↑</button>
            <div class="btn-row">
              <button class="btn-control" id="btn-left">←</button>
              <button class="btn-control" id="btn-down">↓</button>
              <button class="btn-control" id="btn-right">→</button>
            </div>
          </div>
        </div>
        <div class="vertical-divider"></div>
        <div class="control-section">
          <span class="control-label">Zoom</span>
          <div class="zoom-controls">
            <button class="btn-control" id="btn-zoom-in">+</button>
            <button class="btn-control" id="btn-zoom-out">-</button>
          </div>
        </div>
        <div class="vertical-divider"></div>
        <div class="control-section">
          <span class="control-label">Reset</span>
          <button class="btn-control btn-reset" id="btn-reset">↺</button>
        </div>
      </div>
    </div>

    <a-scene
      embedded
      arjs="sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;"
      vr-mode-ui="enabled: false"
      renderer="logarithmicDepthBuffer: true; precision: medium;"
    >
      <a-marker preset="hiro" id="marker-hiro">
        <a-entity id="model-container" position="0 0 0" rotation="-90 0 0">
          <a-entity
            id="house-model"
            gltf-model="url(rumahbiasa.glb)"
            scale="0.8 0.8 0.8"
          >
            <a-box
              class="clickable"
              data-part="livingroom"
              position="0 1.2 0"
              scale="1.6 1.2 1.2"
              material="opacity: 0.0; transparent: true"
            ></a-box>
            <a-box
              class="clickable"
              data-part="kitchen"
              position="0.8 0.6 0.2"
              scale="0.8 0.8 0.8"
              material="opacity: 0.0; transparent: true"
            ></a-box>
            <a-box
              class="clickable"
              data-part="exterior"
              position="0 -0.2 0"
              scale="2.2 1.2 2.2"
              material="opacity: 0.0; transparent: true"
            ></a-box>
          </a-entity>
        </a-entity>
        <a-light type="ambient" intensity="1"></a-light>
        <a-light type="directional" position="2 4 2" intensity="1.5"></a-light>
      </a-marker>
      <a-entity camera>
        <a-entity
          cursor="rayOrigin: mouse"
          raycaster="objects: .clickable"
        ></a-entity>
      </a-entity>
    </a-scene>

    <script src="script.js"></script>
  </body>
</html>
